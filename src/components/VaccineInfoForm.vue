<template>
  <Form v-slot="{ values }" :id="this.$route.name" @submit="onSubmit">
    <div>
      <p class="pt-10 pb-2 font-bold text-xl">áƒ£áƒ™áƒ•áƒ” áƒáƒªáƒ áƒ˜áƒšáƒ˜ áƒ®áƒáƒ ?*</p>
      <basic-radio
        name="vaccinated"
        type="radio"
        id="yesVaccine"
        rule="required"
        label="áƒ™áƒ˜"
      ></basic-radio>
      <basic-radio
        name="vaccinated"
        type="radio"
        id="noVaccine"
        label="áƒáƒ áƒ"
      ></basic-radio>
      <ErrorMessage name="vaccinated" class="text-red-500" />
    </div>
    <div v-if="values.vaccinated === 'yesVaccine'">
      <p class="pt-10 pb-2 font-bold text-xl">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ áƒ áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ®áƒáƒ *</p>
      <basic-radio
        name="vaccinationStage"
        type="radio"
        id="oneAndPending"
        rule="required"
        label="áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ“áƒáƒ–áƒ áƒ“áƒ áƒ“áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ•áƒáƒ  áƒ›áƒ”áƒáƒ áƒ”áƒ–áƒ”"
      ></basic-radio>
      <basic-radio
        name="vaccinationStage"
        type="radio"
        id="fully"
        rule="required"
        label="áƒ¡áƒ áƒ£áƒšáƒáƒ“ áƒáƒªáƒ áƒ˜áƒšáƒ˜ áƒ•áƒáƒ "
      ></basic-radio>
      <basic-radio
        name="vaccinationStage"
        type="radio"
        id="onlyOne"
        rule="required"
        label="áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ“áƒáƒ–áƒ áƒ“áƒ áƒáƒ  áƒ“áƒáƒ•áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ•áƒáƒ  áƒ›áƒ”áƒáƒ áƒ”áƒ–áƒ”"
      ></basic-radio>
      <ErrorMessage name="vaccinationStage" class="text-red-500" />
    </div>
    <div v-if="values.vaccinationStage === 'onlyOne'">
      <p class="pl-6 pt-9">
        áƒ áƒáƒ› áƒáƒ  áƒ’áƒáƒ“áƒáƒ“áƒ, <br />
        áƒ‘áƒáƒ áƒ”áƒ› áƒáƒ®áƒšáƒáƒ•áƒ” áƒ“áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ“áƒ˜
        <a href="https://booking.moh.gov.ge/" class="text-blue-700 block">
          https://booking.moh.gov.ge/
        </a>
      </p>
    </div>
    <div v-if="values.vaccinated === 'noVaccine'">
      <p class="pt-10 pb-2 font-bold text-xl">áƒ áƒáƒ¡ áƒ”áƒšáƒáƒ“áƒ”áƒ‘áƒ˜?*</p>
      <basic-radio
        name="whyWait"
        type="radio"
        id="registeredAndWaiting"
        rule="required"
        label="áƒ“áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ•áƒáƒ  áƒ“áƒ áƒ•áƒ”áƒšáƒáƒ“áƒ”áƒ‘áƒ˜ áƒ áƒ˜áƒªáƒ®áƒ•áƒ¡"
      ></basic-radio>
      <basic-radio
        name="whyWait"
        type="radio"
        id="notPlanning"
        rule="required"
        label="áƒáƒ  áƒ•áƒ’áƒ”áƒ’áƒ›áƒáƒ•"
      ></basic-radio>
      <basic-radio
        name="whyWait"
        type="radio"
        id="hadcovidAndPlanning"
        rule="required"
        label="áƒ’áƒáƒ“áƒáƒ¢áƒáƒœáƒ˜áƒšáƒ˜ áƒ›áƒáƒ¥áƒ•áƒ¡ áƒ“áƒ áƒ•áƒ’áƒ”áƒ’áƒ›áƒáƒ• áƒáƒªáƒ áƒáƒ¡"
      ></basic-radio>
    </div>
    <div v-if="values.whyWait === 'notPlanning'">
      <p class="pl-6 pt-9">
        ğŸ‘‰
        <a href="https://booking.moh.gov.ge/" class="text-blue-700">
          https://booking.moh.gov.ge/
        </a>
      </p>
    </div>
    <div v-if="values.whyWait === 'hadcovidAndPlanning'">
      <p class="pl-6 pt-9">
        áƒáƒ®áƒáƒšáƒ˜ áƒáƒ áƒáƒ¢áƒáƒ™áƒáƒšáƒ˜áƒ— áƒ™áƒáƒ•áƒ˜áƒ“áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¢áƒáƒœáƒ˜áƒ“áƒáƒœ 1 áƒ—áƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒáƒ— áƒ•áƒáƒ¥áƒªáƒ˜áƒœáƒ˜áƒ¡
        áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ. <br /><br />
        ğŸ‘‰ áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ‘áƒ›áƒ£áƒšáƒ˜ <br />
        <a href="https://booking.moh.gov.ge/" class="text-blue-700">
          https://booking.moh.gov.ge/
        </a>
      </p>
    </div>
    <div v-if="values.antibodyTest === 'noTest'">
      <p class="pt-10 pb-7 font-bold text-xl">
        áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒ” áƒ›áƒ˜áƒáƒ®áƒšáƒáƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ˜ (áƒ“áƒ¦áƒ”/áƒ—áƒ•áƒ”/áƒ¬áƒ”áƒšáƒ˜) <br />áƒ áƒáƒ“áƒ˜áƒ¡ áƒ’áƒ¥áƒáƒœáƒ“áƒ Covid-19*
      </p>
      <basic-input
        class="pt-0 mt-0"
        name="covidDate"
        type="date"
        id="covidDate"
        rule="required"
      ></basic-input>
    </div>
  </Form>
</template>
<script>
import BasicInput from "@/components/BasicInput.vue";
import BasicRadio from "@/components/BasicRadio.vue";
import { ErrorMessage } from "vee-validate";

import { Form } from "vee-validate";
export default {
  components: {
    // eslint-disable-next-line vue/no-reserved-component-names
    Form,
    BasicInput,
    BasicRadio,
    ErrorMessage,
  },
  data() {
    return {
      type: "text",
      dateContent: "",
    };
  },
  inject: ["nextPageName"],
  watch: {
    dateContent(newContent) {
      if (newContent === "" || newContent === undefined) {
        this.togglePlaceholder();
      }
    },
  },
  methods: {
    onSubmit(values) {
      console.log(values);
      this.$store.commit("storeData", values);
      console.log(this.$store.getters.getData);
      this.$router.push(this.nextPageName());
    },
    togglePlaceholder() {
      console.log("hello");
      if (this.type === "text" || this.dateContent !== "") {
        this.type = "date";
      } else if (this.type === "date") {
        this.type = "text";
      }
    },
    changeDateContent(e) {
      this.dateContent = e.target.value;
    },
  },
};
</script>
